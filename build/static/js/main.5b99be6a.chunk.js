(this.webpackJsonptonodo=this.webpackJsonptonodo||[]).push([[0],{169:function(e,t,n){e.exports=n.p+"static/media/logo.d61c3928.svg"},171:function(e,t,n){e.exports={container:"footer_container__9AJRY"}},172:function(e,t,n){e.exports={container:"user-page_container__3ret9"}},173:function(e,t,n){e.exports={container:"task-form_container__EJ-B9"}},174:function(e,t,n){e.exports={list:"task-list_list__Hovlx"}},176:function(e,t,n){e.exports=n(359)},185:function(e,t,n){},31:function(e,t,n){e.exports={item:"task-item_item__3meYf",content:"task-item_content__h4Ns7","title-input":"task-item_title-input__2wL5a","input-container":"task-item_input-container__35c0r",control:"task-item_control__28jYQ",done:"task-item_done__348Qf",name:"task-item_name__1tdzF"}},32:function(e,t,n){e.exports={container:"folders_container__3OK7N",folders:"folders_folders__3zqaQ",title:"folders_title__TDYop",action:"folders_action__2NB_E",active:"folders_active__2GDdm",form:"folders_form__ucV3x","form-text":"folders_form-text__1rvYy",sync:"folders_sync__11fs7"}},356:function(e,t){},359:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(57),o=n.n(c),u=n(13),s=n(28),i=(n(185),n(5)),l=n.n(i),p=n(169),f=n.n(p),d=n(24),m=function(e){var t=e.isAuth,n=e.logout,r=e.isConnected;return a.a.createElement("header",{className:l.a.container},a.a.createElement("div",{className:l.a["left-part"]},a.a.createElement(d.b,{className:r?"".concat(l.a.logo," ").concat(l.a.connected):l.a.logo,to:"/",exact:!0},a.a.createElement("img",{src:f.a,className:l.a["logo-img"],alt:"logo"}),a.a.createElement("span",{className:l.a["logo-title"]},"Tonodo"))),a.a.createElement("div",{className:l.a["top-nav"]},t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(d.b,{to:"/",exact:!0,className:l.a.link,activeClassName:l.a.active},"\u0417\u0430\u0434\u0430\u0447\u0438"),a.a.createElement(d.b,{to:"/blog",className:l.a.link,activeClassName:l.a.active},"\u0411\u043b\u043e\u0433"),a.a.createElement(d.b,{to:"/settings",className:l.a.link,activeClassName:l.a.active},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),a.a.createElement(d.b,{to:"/profile",className:l.a.link,activeClassName:l.a.active},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),a.a.createElement(d.b,{to:"/logout",className:l.a.link,activeClassName:l.a.active,onClick:n},"\u0412\u044b\u0445\u043e\u0434"))))},b=n(171),E=n.n(b),O=function(){return a.a.createElement("footer",{className:E.a.container},"\xa9 2020")},v=n(172),g=n.n(v),h=function(){return a.a.createElement("div",{className:g.a.container},"userpage")},_=n(30),T=n(1),y=n(21),k={get:function(e){return localStorage[e]&&JSON.parse(localStorage[e])},set:function(e,t){return localStorage[e]=JSON.stringify(t),t}};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={posts:k.get("posts")||[],inputText:""},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"ADD_POST":if(e.inputText){var a=[{id:(new Date).getTime(),text:e.inputText,lastModified:(new Date).getTime()}].concat(Object(y.a)(e.posts));return k.set("posts",a),w({},e,{inputText:"",posts:a})}return e;case"CHANGE_NEW_POST_TEXT":return w({},e,{inputText:r.text});case"REMOVE_POST":var c=e.posts.filter((function(e){return e.id!==r.id}));return k.set("posts",c),w({},e,{posts:c});default:return e}},N=n(40),D=n.n(N),F=function(e){var t=e.addPost,n=e.removePost,r=e.changePostText,c=e.posts,o=e.inputText;return a.a.createElement("div",{className:D.a.wrap},a.a.createElement("div",{className:D.a.container},c&&c.map((function(e,t){return a.a.createElement("div",{key:t,className:D.a.item},a.a.createElement("p",null,e.text),a.a.createElement("span",{className:D.a.remove,onClick:function(t){return n(e.id)}},"x"))}))),a.a.createElement("form",{className:D.a["new-post"],onSubmit:function(e){e.preventDefault(),t()}},a.a.createElement("textarea",{onChange:function(e){return r(e.target.value)},value:o}),a.a.createElement("input",{type:"submit",value:"New Post"})))},P=Object(s.b)((function(e){var t=e.blogPage;return{posts:t.posts,inputText:t.inputText}}),(function(e){return{removePost:function(t){return e({type:"REMOVE_POST",payload:{id:t}})},addPost:function(){return e({type:"ADD_POST"})},changePostText:function(t){return e(function(e){return{type:"CHANGE_NEW_POST_TEXT",payload:{text:e}}}(t))}}}))(F),C=n(360),A=Object(C.a)({INIT:function(){return{}},LOAD_LIST:function(){return{}},REQUEST_LIST:function(){return{}},SUCCESS_LIST:function(e){return e},FAILURE_LIST:function(e){return{error:e}},REQUEST_ITEM:function(){return{}},SUCCESS_ITEM:function(e){return{item:e}},FAILURE_ITEM:function(e){return{error:e}},ADD_TASK:function(e){return{text:e}},EDIT_TASK_TITLE:function(e){return e},DELETE_TASK:function(e){return{id:e}},SUCCESS_PATCH_TASK:function(e){return{item:e}},FAILURE_PATCH_TASK:function(e){return e},DONE_TASK:function(e){return{id:e}},UN_DONE_TASK:function(e){return{id:e}},CHANGE_NEW_TASK_TEXT:function(e){return{text:e}}},{prefix:"tasks"}),I=A.init,L=A.loadList,R=A.requestList,U=A.successList,q=A.failureList,H=A.requestItem,K=A.successItem,M=A.failureItem,G=A.addTask,Q=A.editTaskTitle,B=A.deleteTask,J=A.successPatchTask,W=A.failurePatchTask,X=A.doneTask,Y=A.unDoneTask,V=A.changeNewTaskText,z=n(62),$=n.n(z),Z=n(173),ee=n.n(Z),te=function(e){var t=e.newTaskText,n=e.addNewTask,r=e.changeNewTaskText;return a.a.createElement("form",{onSubmit:n,className:ee.a.container},a.a.createElement("input",{type:"text",placeholder:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c",onChange:r,value:t}),a.a.createElement("button",null,"ok"))},ne=n(174),re=n.n(ne),ae=n(22),ce=n(31),oe=n.n(ce),ue=function(e){var t=e.id,n=e.checked,c=e.text,o=e.editTaskTitle,u=e.doneTask,s=e.unDoneTask,i=e.deleteTask,l=Object(r.useState)(!1),p=Object(ae.a)(l,2),f=p[0],d=p[1],m=Object(r.useState)(c),b=Object(ae.a)(m,2),E=b[0],O=b[1];return Object(r.useEffect)((function(){O(c)}),[c]),Object(r.useEffect)((function(){return console.log("effect"),window.addEventListener("onKeyDown",(function(e){console.log(e.target)})),function(){console.log("unmount effect")}}),[]),a.a.createElement("div",{className:"".concat(oe.a.item," ").concat(n?oe.a.done:"")},a.a.createElement("div",{className:oe.a.content},a.a.createElement("span",{className:oe.a["input-container"]},a.a.createElement("input",{name:"task-".concat(t),type:"checkbox",onChange:function(e){return n?s(t):u(t)},checked:n})),f?a.a.createElement("input",{className:oe.a["title-input"],type:"text",value:E,onChange:function(e){return O(e.target.value)},autoFocus:!0,onBlur:function(e){d(!1),o({title:e.target.value,id:t})}}):a.a.createElement("span",{className:oe.a.title,onDoubleClick:function(e){return d(!0)}},E)),a.a.createElement("div",{className:oe.a.control},a.a.createElement("a",{href:"/remove-task/".concat(t),onClick:function(e){e.preventDefault(),i(t)}},"x")))},se=function(e){var t=e.items,n=e.editTaskTitle,r=e.doneTask,c=e.unDoneTask,o=e.deleteTask;return a.a.createElement("div",{className:re.a.list},Array.isArray(t)&&t.map((function(e,t){var u=e._id,s=e.completed,i=e.title;return a.a.createElement(ue,{key:t,id:u,checked:s,text:i,editTaskTitle:n,doneTask:r,unDoneTask:c,deleteTask:o})})))},ie=n(32),le=n.n(ie),pe=function(e){var t=e.changeFolder,n=e.activeFolder,r=e.folders,c=e.newFolderText,o=e.changeNewFolderText,u=e.addNewFolder,s=e.deleteFolder;return a.a.createElement("div",{className:le.a.container},a.a.createElement("ul",{className:le.a.folders},r&&r.map((function(e,r){var c=e._id,o=e.title,u=e.editable;return a.a.createElement("li",{key:r,className:n._id===c?le.a.active:""},a.a.createElement("span",{className:le.a.title,onClick:function(){return t(c)}},o),u&&a.a.createElement("span",{className:le.a.action,onClick:function(){return s(c)}},"x"))}))),a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u()},className:le.a.form},a.a.createElement("input",{type:"text",placeholder:"\u041d\u043e\u0432\u0430\u044f \u043f\u0430\u043f\u043a\u0430",value:c,onChange:function(e){return o(e.target.value)},className:le.a["form-text"]}),a.a.createElement("button",null,"ok")))},fe=function(e){var t=e.newTaskText,n=e.items,r=e.folders,c=e.activeFolder,o=e.addNewTask,u=e.changeNewTaskText,s=e.editTaskTitle,i=e.doneTask,l=e.unDoneTask,p=e.deleteTask,f=e.changeFolder,d=e.newFolderText,m=e.changeNewFolderText,b=e.addNewFolder,E=e.deleteFolder;return a.a.createElement("div",{className:$.a.container},a.a.createElement("main",{className:$.a.content},a.a.createElement(te,{addNewTask:o,changeNewTaskText:u,newTaskText:t}),a.a.createElement(se,{items:n,activeFolder:c,editTaskTitle:s,doneTask:i,unDoneTask:l,deleteTask:p})),a.a.createElement("div",{className:$.a.aside},a.a.createElement(pe,{activeFolder:c,folders:r,changeFolder:f,newFolderText:d,changeNewFolderText:m,addNewFolder:b,deleteFolder:E})))},de=n(7),me=n(29),be=n.n(me),Ee=function(e){return e.taskFolders||{}},Oe=Object(de.a)(Ee,be()({},"activeFolder")),ve=Object(de.a)([Ee],be()([],"items")),ge=Object(de.a)(Ee,be()("","newFolderText")),he=function(e){return e.tasks||{}},_e=Object(de.a)([he,Oe],(function(e,t){var n=e.items,r=void 0===n?[]:n,a=t.filter||"default";return ye[a](r,t).sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}))})),Te=Object(de.a)(he,be()("","newTaskText")),ye={default:function(e,t){return e.filter((function(e){return e.folderId===t._id&&!e.deleted}))},showAll:function(e){return e.filter((function(e){return!e.deleted}))},showDeleted:function(e){return e.filter((function(e){return e.deleted}))}},ke=Object(C.a)({INIT:function(){return{}},LOAD_LIST:function(){return{}},REQUEST_LIST:function(){return{}},SUCCESS_LIST:function(e){return e},FAILURE_LIST:function(e){return{error:e}},CHANGE_FOLDER:function(e){return{id:e}},CHANGE_NEW_FOLDER_TEXT:function(e){return{text:e}},ADD_FOLDER:function(){return{}},REQUEST_ITEM:function(){return{}},SUCCESS_ITEM:function(e){return{item:e}},FAILURE_ITEM:function(e){return{error:e}},DELETE_FOLDER:function(e){return{id:e}},REQUEST_DELETE_FOLDER:function(){return{}},SUCCESS_DELETE_FOLDER:function(e){return{item:e}},FAILURE_DELETE_FOLDER:function(e){return{error:e}}},{prefix:"task-folders"}),je=ke.init,we=ke.loadList,Se=ke.requestList,xe=ke.successList,Ne=ke.failureList,De=ke.changeFolder,Fe=ke.changeNewFolderText,Pe=ke.addFolder,Ce=ke.requestItem,Ae=ke.successItem,Ie=ke.failureItem,Le=ke.deleteFolder,Re=ke.requestDeleteFolder,Ue=ke.successDeleteFolder,qe=ke.failureDeleteFolder,He=Object(s.b)((function(e){return{newTaskText:Te(e),items:_e(e),activeFolder:Oe(e),folders:ve(e),newFolderText:ge(e)}}),(function(e){return Object(u.b)({addNewTask:function(e){return e.preventDefault(),G()},changeNewTaskText:function(e){return e.preventDefault(),V(e.target.value)},editTaskTitle:function(e){return Q(e)},doneTask:function(e){return X(e)},unDoneTask:function(e){return Y(e)},deleteTask:function(e){return B(e)},changeFolder:function(e){return De(e)},changeNewFolderText:function(e){return Fe(e)},addNewFolder:function(){return Pe()},deleteFolder:function(e){return Le(e)}},e)}))(fe);var Ke=function(e){var t=e.onSubmit,n=e.error,c=Object(r.useState)(""),o=Object(ae.a)(c,2),u=o[0],s=o[1],i=Object(r.useState)(""),l=Object(ae.a)(i,2),p=l[0],f=l[1];return a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(u,p)}},a.a.createElement("div",{className:"input-container"},a.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:u,onChange:function(e){return s(e.target.value)}})),a.a.createElement("div",{className:"input-container"},a.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:p,onChange:function(e){return f(e.target.value)}})),n&&a.a.createElement("div",{className:"form-error"},n),a.a.createElement("div",{className:"input-container"},a.a.createElement("input",{type:"submit"})))};var Me=function(e){var t=e.onSubmit,n=e.error,c=Object(r.useState)(""),o=Object(ae.a)(c,2),u=o[0],s=o[1],i=Object(r.useState)(""),l=Object(ae.a)(i,2),p=l[0],f=l[1],d=Object(r.useState)(""),m=Object(ae.a)(d,2),b=m[0],E=m[1];return a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(u,p,b)}},a.a.createElement("div",{className:"input-container"},a.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:u,onChange:function(e){return s(e.target.value)}})),a.a.createElement("div",{className:"input-container"},a.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:p,onChange:function(e){return f(e.target.value)}})),a.a.createElement("div",{className:"input-container"},a.a.createElement("input",{type:"password",name:"password2",placeholder:"repeat password",value:b,onChange:function(e){return E(e.target.value)}})),n&&a.a.createElement("div",{className:"form-error"},n),a.a.createElement("div",{className:"input-container"},a.a.createElement("input",{type:"submit"})))};var Ge=function(e){var t=e.isAuth,n=e.onSubmitAuthForm,r=e.logout,c=e.authError,o=e.isConnected,u=e.onSubmitRegForm,s=e.regError;return a.a.createElement(d.a,null,a.a.createElement("div",{className:"wrapper"},a.a.createElement(m,{isAuth:t,logout:r,isConnected:o}),a.a.createElement("div",{className:"middle"},t?a.a.createElement(_.c,null,a.a.createElement(_.a,{path:"/settings"},a.a.createElement("h1",null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438")),a.a.createElement(_.a,{path:"/profile"},a.a.createElement(h,null)),a.a.createElement(_.a,{path:"/blog"},a.a.createElement(P,null)),a.a.createElement(_.a,{path:"/"},a.a.createElement(He,null))):a.a.createElement(_.c,null,a.a.createElement(_.a,{path:"/"},a.a.createElement("h2",null,"\u0412\u0445\u043e\u0434"),a.a.createElement(Ke,{onSubmit:n,error:c}),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("h2",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),a.a.createElement(Me,{onSubmit:u,error:s})))),a.a.createElement(O,null)))},Qe=n(102),Be=n.n(Qe),Je=function(e){return e.user||{}},We=(Object(de.a)(Je,(function(e){return e||{}})),Object(de.a)(Je,be()("","token"))),Xe=Object(de.a)(Je,(function(e){return e.token&&e._id})),Ye=Object(de.a)(Je,Be()("authError")),Ve=Object(de.a)(Je,Be()("regError")),ze=Object(C.a)({AUTH:function(e){return e},REQUEST_AUTH:function(){return{}},SUCCESS_AUTH:function(e){return e},FAILURE_AUTH:function(e){return e},REG:function(e){return e},REQUEST_REG:function(){return{}},SUCCESS_REG:function(e){return e},FAILURE_REG:function(e){return e},LOGOUT:function(){return{}}},{prefix:"user"}),$e=ze.auth,Ze=ze.requestAuth,et=ze.successAuth,tt=ze.failureAuth,nt=ze.reg,rt=ze.requestReg,at=ze.successReg,ct=ze.failureReg,ot=ze.logout,ut=Object(de.a)((function(e){return e.app||{}}),(function(e){return"connected"===e.socketStatus})),st=Object(s.b)((function(e){return{isAuth:Xe(e),authError:Ye(e),regError:Ve(e),isConnected:ut(e)}}),(function(e){return Object(u.b)({onSubmitAuthForm:function(e,t){return $e({username:e,password:t})},onSubmitRegForm:function(e,t,n){return nt({username:e,password:t,password2:n})},logout:function(e){return e.preventDefault(),ot()}},e)}))(Ge);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var it,lt=n(361),pt=Object(C.a)({INIT:function(e){return e},SET_SOCKET_STATUS:function(e){return e}},{prefix:"app"}),ft=pt.init,dt=pt.setSocketStatus;function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(n,!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Et,Ot=Object(lt.a)((it={},Object(T.a)(it,ft,(function(e,t){return bt({},e)})),Object(T.a)(it,dt,(function(e,t){return bt({},e,{socketStatus:t.payload})})),it),{socketStatus:"disconnected"});function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(n,!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht,_t={items:[],newTaskText:""},Tt=Object(lt.a)((Et={},Object(T.a)(Et,I,(function(e,t){return gt({},e,{listStatus:"initial"})})),Object(T.a)(Et,R,(function(e,t){return gt({},e,{listStatus:"request"})})),Object(T.a)(Et,q,(function(e,t){return gt({},e,{listStatus:"failure",error:t.payload})})),Object(T.a)(Et,U,(function(e,t){return gt({},e,{items:[].concat(Object(y.a)(_t.items),Object(y.a)(t.payload)),listStatus:"success"})})),Object(T.a)(Et,H,(function(e,t){return gt({},e,{itemStatus:"request"})})),Object(T.a)(Et,M,(function(e,t){return gt({},e,{itemStatus:"failure",error:t.payload})})),Object(T.a)(Et,K,(function(e,t){return gt({},e,{items:[].concat(Object(y.a)(e.items),[t.payload]),itemStatus:"success"})})),Object(T.a)(Et,J,(function(e,t){var n=t.payload;return gt({},e,{items:e.items.map((function(e){return e._id===n._id?n:e}))})})),Object(T.a)(Et,W,(function(e,t){return gt({},e,{error:t.payload})})),Object(T.a)(Et,V,(function(e,t){return gt({},e,{newTaskText:t.payload.text})})),Et),_t);function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(n,!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jt,wt=Object(lt.a)((ht={},Object(T.a)(ht,Ze,(function(e,t){return kt({},e)})),Object(T.a)(ht,et,(function(e,t){return kt({},e,{},t.payload)})),Object(T.a)(ht,tt,(function(e,t){return kt({},e,{authError:t.payload})})),Object(T.a)(ht,rt,(function(e,t){return kt({},e)})),Object(T.a)(ht,at,(function(e,t){return kt({},e,{},t.payload)})),Object(T.a)(ht,ct,(function(e,t){return kt({},e,{regError:t.payload})})),Object(T.a)(ht,ot,(function(e,t){return{}})),ht),{token:""}),St=[{_id:"1",title:"\u0412\u0441\u0435",editable:!1,filter:"showAll"},{_id:"2",title:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430",editable:!1,filter:"showDeleted"}],xt="http://localhost:5000/";function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(n,!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft={items:St,newFolderText:"",activeFolder:St[0]},Pt=Object(lt.a)((jt={},Object(T.a)(jt,je,(function(e,t){return Dt({},e)})),Object(T.a)(jt,Se,(function(e,t){return Dt({},e,{statusList:"request"})})),Object(T.a)(jt,Ne,(function(e,t){return Dt({},e,{statusList:"failure",error:t.payload})})),Object(T.a)(jt,xe,(function(e,t){return Dt({},e,{items:[].concat(Object(y.a)(St),Object(y.a)(t.payload)),statusList:"success"})})),Object(T.a)(jt,De,(function(e,t){var n=t.payload;return Dt({},e,{activeFolder:e.items.find((function(e){return e._id===n.id}))})})),Object(T.a)(jt,Fe,(function(e,t){return Dt({},e,{newFolderText:t.payload.text})})),Object(T.a)(jt,Pe,(function(e,t){t.payload;return Dt({},e)})),Object(T.a)(jt,Ce,(function(e,t){return Dt({},e,{statusItem:"request"})})),Object(T.a)(jt,Ie,(function(e,t){return Dt({},e,{statusItem:"failure",error:t.payload})})),Object(T.a)(jt,Ae,(function(e,t){return Dt({},e,{items:[].concat(Object(y.a)(e.items),[t.payload]),statusItem:"success"})})),Object(T.a)(jt,Re,(function(e,t){return Dt({},e,{statusDeleting:"request"})})),Object(T.a)(jt,qe,(function(e,t){return Dt({},e,{statusDeleting:"failure",error:t.payload})})),Object(T.a)(jt,Ue,(function(e,t){var n=t.payload;return Dt({},e,{items:e.items.filter((function(e){return e._id!==n})),statusDeleting:"success"})})),jt),Ft),Ct=Object(u.c)({app:Ot,blogPage:x,tasks:Tt,user:wt,taskFolders:Pt}),At=n(3),It=n.n(At),Lt=n(6),Rt=n(39),Ut=n.n(Rt),qt=function(e){return function(t){return function(){var n=Object(Lt.a)(It.a.mark((function n(r){var a,c,o,u;return It.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(r),a=e.getState(),c=We(a),o=Ut.a.create({baseURL:xt,timeout:1e3,headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"}}),n.t0=r.type,n.next=n.t0===L.toString()?7:n.t0===G.toString()?14:n.t0===X.toString()?22:n.t0===Q.toString()?28:n.t0===Y.toString()?35:n.t0===B.toString()?41:47;break;case 7:return e.dispatch(R()),n.t1=e,n.next=11,Ht(a,r,o);case 11:return n.t2=n.sent,n.t1.dispatch.call(n.t1,n.t2),n.abrupt("break",48);case 14:return e.dispatch(H()),n.t3=e,n.next=18,Kt(a,r,o);case 18:return n.t4=n.sent,n.t3.dispatch.call(n.t3,n.t4),e.dispatch(V("")),n.abrupt("break",48);case 22:return n.t5=e,n.next=25,Mt({completed:!0},a,r,o);case 25:return n.t6=n.sent,n.t5.dispatch.call(n.t5,n.t6),n.abrupt("break",48);case 28:return u=r.payload.title,n.t7=e,n.next=32,Mt({title:u},a,r,o);case 32:return n.t8=n.sent,n.t7.dispatch.call(n.t7,n.t8),n.abrupt("break",48);case 35:return n.t9=e,n.next=38,Mt({completed:!1},a,r,o);case 38:return n.t10=n.sent,n.t9.dispatch.call(n.t9,n.t10),n.abrupt("break",48);case 41:return n.t11=e,n.next=44,Mt({deleted:!0},a,r,o);case 44:return n.t12=n.sent,n.t11.dispatch.call(n.t11,n.t12),n.abrupt("break",48);case 47:return n.abrupt("break",48);case 48:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},Ht=function(){var e=Object(Lt.a)(It.a.mark((function e(t,n,r){var a;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.get("/tasks");case 3:return a=e.sent,e.abrupt("return",{type:U.toString(),payload:a.data});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",q());case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(Lt.a)(It.a.mark((function e(t,n,r){var a,c,o,u;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Te(t),c=Oe(t),o=c._id,e.prev=2,e.next=5,r.post("/tasks",{title:a,folderId:o});case 5:return u=e.sent,e.abrupt("return",{type:K.toString(),payload:u.data});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",M());case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(Lt.a)(It.a.mark((function e(t,n,r,a){var c,o,u,s;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.payload.id,o=Oe(n),console.log(o),e.prev=3,e.next=6,a.patch("/tasks/".concat(c),t);case 6:if(u=e.sent,!(s=u.data).error){e.next=10;break}throw new Error(s.error);case 10:return e.abrupt("return",{type:J.toString(),payload:s});case 13:return e.prev=13,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",W(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Gt=function(e){return function(t){return function(){var n=Object(Lt.a)(It.a.mark((function n(r){var a,c,o,u;return It.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(r),a=e.getState(),c=We(a),o=Ut.a.create({baseURL:xt,timeout:1e3,headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"}}),n.t0=r.type,n.next=n.t0===we.toString()?7:n.t0===Pe.toString()?14:n.t0===Le.toString()?22:31;break;case 7:return e.dispatch(Se()),n.t1=e,n.next=11,Qt(a,r,o);case 11:return n.t2=n.sent,n.t1.dispatch.call(n.t1,n.t2),n.abrupt("break",32);case 14:return e.dispatch(Ce()),n.t3=e,n.next=18,Bt(a,r,o);case 18:return n.t4=n.sent,n.t3.dispatch.call(n.t3,n.t4),e.dispatch(Fe("")),n.abrupt("break",32);case 22:return u=Oe(a),e.dispatch(Re()),n.t5=e,n.next=27,Jt(a,r,o);case 27:return n.t6=n.sent,n.t5.dispatch.call(n.t5,n.t6),r.payload.id===u._id&&e.dispatch(De("1")),n.abrupt("break",32);case 31:return n.abrupt("break",32);case 32:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},Qt=function(){var e=Object(Lt.a)(It.a.mark((function e(t,n,r){var a;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.get("/taskFolders");case 3:return a=e.sent,e.abrupt("return",{type:xe.toString(),payload:a.data});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Ne());case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(Lt.a)(It.a.mark((function e(t,n,r){var a,c;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ge(t),e.prev=1,e.next=4,r.post("/taskFolders",{title:a});case 4:return c=e.sent,e.abrupt("return",{type:Ae.toString(),payload:c.data});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Ie());case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(Lt.a)(It.a.mark((function e(t,n,r){var a,c,o;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.payload.id,e.prev=1,e.next=4,r.delete("/taskFolders/".concat(a));case 4:if(c=e.sent,!(o=c.data).error){e.next=8;break}throw new Error(o.error);case 8:return e.abrupt("return",{type:Ue.toString(),payload:a});case 11:return e.prev=11,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",qe(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Wt=function(e){return function(t){return function(){var n=Object(Lt.a)(It.a.mark((function n(r){var a,c;return It.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(r),a=e.getState(),c=Ut.a.create({baseURL:xt,timeout:3e3,headers:{"Content-Type":"application/json"}}),n.t0=r.type,n.next=n.t0===$e.toString()?6:n.t0===nt.toString()?13:20;break;case 6:return e.dispatch(Ze()),n.t1=e,n.next=10,Xt(a,r,c);case 10:return n.t2=n.sent,n.t1.dispatch.call(n.t1,n.t2),n.abrupt("break",21);case 13:return e.dispatch(rt()),n.t3=e,n.next=17,Yt(a,r,c);case 17:return n.t4=n.sent,n.t3.dispatch.call(n.t3,n.t4),n.abrupt("break",21);case 20:return n.abrupt("break",21);case 21:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},Xt=function(){var e=Object(Lt.a)(It.a.mark((function e(t,n,r){var a,c,o,u,s,i,l;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.payload,c=a.username,o=a.password,e.prev=1,e.next=4,r.post("/auth",{username:c,password:o});case 4:return u=e.sent,s=u.data,k.set("user",s),e.abrupt("return",{type:et.toString(),payload:s});case 10:return e.prev=10,e.t0=e.catch(1),i=e.t0.response||{},l=i.data,e.abrupt("return",tt(l&&l.message||"Connect error. Try later"));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Yt=function(){var e=Object(Lt.a)(It.a.mark((function e(t,n,r){var a,c,o,u,s,i,l,p;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.payload,c=a.username,o=a.password,u=a.password2,e.prev=1,e.next=4,r.post("/reg",{username:c,password:o,password2:u});case 4:return s=e.sent,i=s.data,k.set("user",i),e.abrupt("return",{type:at.toString(),payload:i});case 10:return e.prev=10,e.t0=e.catch(1),l=e.t0.response||{},p=l.data,e.abrupt("return",ct(p&&p.message||"Connect error. Try later"));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Vt=n(175),zt=n.n(Vt),$t=function(e){return Zt(e)};function Zt(e){return Zt.instance||(Zt.instance=zt()(xt,{query:{userId:e}})),Zt.instance}var en=function(e){return function(t){return function(){var n=Object(Lt.a)(It.a.mark((function n(r){var a,c;return It.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(r),n.t0=r.type,n.next=n.t0===ft.toString()?4:n.t0===et.toString()?9:n.t0===ot.toString()?18:n.t0===Ae.toString()?26:n.t0===Ue.toString()?26:n.t0===K.toString()?29:n.t0===J.toString()?29:32;break;case 4:if(!(a=k.get("user")||{})._id){n.next=8;break}return n.next=8,e.dispatch(et(a));case 8:return n.abrupt("break",33);case 9:return e.dispatch(L()),e.dispatch(we()),(c=$t(r.payload._id)).on("connect",(function(t){e.dispatch(dt("connected"))})),c.on("disconnect",(function(){e.dispatch(dt("disconnected"))})),c.on("message",(function(e){console.log("message: ",e)})),c.on("syncFolders",(function(){console.log("syncFolders"),e.dispatch(we())})),c.on("syncTasks",(function(){console.log("syncTasks"),e.dispatch(L())})),n.abrupt("break",33);case 18:return k.set("user",{}),e.dispatch(xe([])),e.dispatch(De("1")),e.dispatch(U([])),$t().disconnect(),Zt.instance=null,n.abrupt("break",33);case 26:return $t().emit("syncFolders"),n.abrupt("break",33);case 29:return $t().emit("syncTasks"),n.abrupt("break",33);case 32:return n.abrupt("break",33);case 33:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},tn="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return Object(u.e)(Ct,e,tn(Object(u.a)(en,Wt,qt,Gt)))},rn=nn();rn.dispatch(ft()),o.a.render(a.a.createElement(s.a,{store:rn},a.a.createElement(st,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},40:function(e,t,n){e.exports={wrap:"blog-page_wrap__2Nofb",item:"blog-page_item__R0SMp",remove:"blog-page_remove__2KlUR","new-post":"blog-page_new-post__RKgFV"}},5:function(e,t,n){e.exports={container:"header_container__v0Obr",logo:"header_logo__1D7nN",connected:"header_connected__1Hc7S","logo-title":"header_logo-title__3mYEI","logo-img":"header_logo-img__A_fEH","top-nav":"header_top-nav__Sy2Ba",link:"header_link__1hIMI",active:"header_active__3MISQ"}},62:function(e,t,n){e.exports={container:"tasks_container__2DNOh",content:"tasks_content__12alN",aside:"tasks_aside__3yqIx"}}},[[176,1,2]]]);
//# sourceMappingURL=main.5b99be6a.chunk.js.map