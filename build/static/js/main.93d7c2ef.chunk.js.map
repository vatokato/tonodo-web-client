{"version":3,"sources":["assets/logo.svg","components/footer/footer.module.scss","components/user-page/user-page.module.scss","components/tasks/form/task-form.module.scss","components/tasks/list/task-list.module.scss","components/tasks/item/task-item.module.scss","components/tasks/folders/folders.module.scss","components/header/header.jsx","components/footer/footer.jsx","components/user-page/user-page.jsx","localDB.js","reducers/blog.js","components/blog-page/index.jsx","connectors/blog.js","actions/tasks.js","components/tasks/form/task-form.jsx","components/tasks/item/task-item.jsx","components/tasks/list/task-list.jsx","components/tasks/folders/folders.jsx","components/tasks/index.jsx","selectors/taskFolders.js","selectors/tasks.js","actions/taskFolders.js","connectors/tasks.js","components/auth-form/auth-form.jsx","components/reg-form/reg-form.jsx","components/app.jsx","selectors/user.js","actions/user.js","selectors/app.js","connectors/app.js","serviceWorker.js","actions/app.js","reducers/app.js","reducers/tasks.js","reducers/user.js","constants.js","reducers/taskFolders.js","reducers/index.js","redux/tasksMiddleware.js","redux/taskFoldersMiddleware.js","redux/userMiddleware.js","socket.js","redux/appMiddleware.js","redux/store.js","index.js","components/blog-page/blog-page.module.scss","components/header/header.module.scss","components/tasks/tasks.module.scss"],"names":["module","exports","Header","isAuth","logout","isConnected","className","s","container","logo","connected","to","exact","src","alt","link","activeClassName","active","onClick","Footer","UserPage","localDB","get","name","localStorage","JSON","parse","set","value","stringify","initialState","posts","db","inputText","blogReducer","state","action","type","payload","id","Date","getTime","text","lastModified","newPosts","filter","post","BlogPage","addPost","removePost","changePostText","wrap","map","index","key","item","remove","e","onSubmit","preventDefault","onChange","target","connect","blogPage","dispatch","postId","changeNewPostTextCreator","createActions","INIT","LOAD_LIST","REQUEST_LIST","SUCCESS_LIST","tasks","FAILURE_LIST","error","REQUEST_ITEM","SUCCESS_ITEM","FAILURE_ITEM","ADD_TASK","EDIT_TASK_TITLE","task","DELETE_TASK","SUCCESS_PATCH_TASK","FAILURE_PATCH_TASK","DONE_TASK","UN_DONE_TASK","CHANGE_NEW_TASK_TEXT","prefix","init","loadList","requestList","successList","failureList","requestItem","successItem","failureItem","addTask","editTaskTitle","deleteTask","successPatchTask","failurePatchTask","doneTask","unDoneTask","changeNewTaskText","TaskForm","newTaskText","addNewTask","placeholder","TaskItem","checked","useState","doEdit","setDoEdit","title","setTitle","useEffect","console","log","window","addEventListener","done","content","autoFocus","onBlur","onDoubleClick","control","href","TaskList","items","list","Array","isArray","_id","completed","Folders","changeFolder","activeFolder","folders","newFolderText","changeNewFolderText","addNewFolder","deleteFolder","editable","form","TasksPage","aside","selectTaskFolders","taskFolders","getActiveFolder","createSelector","propOr","getFolders","getNewFolderText","selectTasks","getTasks","tasksFilters","sort","a","b","createdAt","getNewTaskText","default","folderId","deleted","showAll","showDeleted","CHANGE_FOLDER","CHANGE_NEW_FOLDER_TEXT","ADD_FOLDER","DELETE_FOLDER","REQUEST_DELETE_FOLDER","SUCCESS_DELETE_FOLDER","FAILURE_DELETE_FOLDER","addFolder","requestDeleteFolder","successDeleteFolder","failureDeleteFolder","store","bindActionCreators","AuthForm","login","setLogin","password","setPassword","RegForm","password2","setPassword2","App","onSubmitAuthForm","authError","onSubmitRegForm","regError","path","selectUser","user","getToken","getIsAuth","token","getAuthError","prop","getRegError","AUTH","settings","REQUEST_AUTH","SUCCESS_AUTH","FAILURE_AUTH","REG","REQUEST_REG","SUCCESS_REG","FAILURE_REG","LOGOUT","auth","requestAuth","successAuth","failureAuth","reg","requestReg","successReg","failureReg","getIsConnected","app","socketStatus","username","Boolean","location","hostname","match","SET_SOCKET_STATUS","status","setSocketStatus","handleActions","listStatus","itemStatus","DEFAULT_FOLDERS","API_URL","statusList","find","folder","statusItem","statusDeleting","reducer","combineReducers","appReducer","tasksReducer","userReducer","taskFoldersReducer","next","getState","instance","axios","create","baseURL","timeout","headers","toString","createTask","patchTask","response","data","patch","Error","message","createFolder","removeFolder","delete","authorization","registration","getSocket","userId","Socket","io","query","successCreateFolder","successCreateItem","loadTasks","loadFolders","socket","on","setFolders","setTasks","disconnect","emit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","initStore","preloadedState","undefined","createStore","applyMiddleware","appMiddleware","userMiddleware","tasksMiddleware","taskFoldersMiddleware","initApp","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","unregister"],"mappings":"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","file":"static/js/main.93d7c2ef.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.d61c3928.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"footer_container__9AJRY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"user-page_container__3ret9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"task-form_container__EJ-B9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"task-list_list__Hovlx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"task-item_item__3meYf\",\"content\":\"task-item_content__h4Ns7\",\"title-input\":\"task-item_title-input__2wL5a\",\"input-container\":\"task-item_input-container__35c0r\",\"control\":\"task-item_control__28jYQ\",\"done\":\"task-item_done__348Qf\",\"name\":\"task-item_name__1tdzF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"folders_container__3OK7N\",\"folders\":\"folders_folders__3zqaQ\",\"title\":\"folders_title__TDYop\",\"action\":\"folders_action__2NB_E\",\"active\":\"folders_active__2GDdm\",\"form\":\"folders_form__ucV3x\",\"form-text\":\"folders_form-text__1rvYy\",\"sync\":\"folders_sync__11fs7\"};","import React from 'react';\r\nimport s from './header.module.scss';\r\nimport logo from '../../assets/logo.svg';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = ({ isAuth, logout, isConnected }) => (\r\n  <header className={s.container}>\r\n    <div className={s['left-part']}>\r\n      <NavLink\r\n        className={isConnected ? `${s.logo} ${s.connected}` : s.logo}\r\n        to='/'\r\n        exact\r\n      >\r\n        <img src={logo} className={s['logo-img']} alt=\"logo\"/>\r\n        <span className={s['logo-title']}>Tonodo</span>\r\n      </NavLink>\r\n    </div>\r\n    <div className={s['top-nav']}>\r\n      {isAuth && (\r\n        <>\r\n          <NavLink to='/' exact className={s.link} activeClassName={s.active}>Задачи</NavLink>\r\n          <NavLink to='/blog' className={s.link} activeClassName={s.active}>Блог</NavLink>\r\n          <NavLink to='/settings' className={s.link} activeClassName={s.active}>Настройки</NavLink>\r\n          <NavLink to='/profile' className={s.link} activeClassName={s.active}>Профиль</NavLink>\r\n          <NavLink\r\n            to='/logout'\r\n            className={s.link}\r\n            activeClassName={s.active}\r\n            onClick={logout}\r\n          >\r\n            Выход\r\n          </NavLink>\r\n        </>\r\n      )}\r\n    </div>\r\n  </header>\r\n);\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport s from './footer.module.scss';\r\n\r\nconst Footer = () => (\r\n  <footer className={s.container}>\r\n    &copy; 2020\r\n  </footer>\r\n);\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport s from './user-page.module.scss';\r\n\r\nconst UserPage = () => (\r\n  <div className={s.container}>userpage</div>\r\n)\r\n\r\nexport default UserPage;\r\n","const localDB = {\r\n  get(name) {\r\n    return localStorage[name] && JSON.parse(localStorage[name]);\r\n  },\r\n  set(name, value) {\r\n    localStorage[name] = JSON.stringify(value);\r\n    return value;\r\n  }\r\n};\r\n\r\nexport default localDB;\r\n","import db from '../localDB';\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst CHANGE_NEW_POST_TEXT = 'CHANGE_NEW_POST_TEXT';\r\nconst REMOVE_POST = 'REMOVE_POST';\r\n\r\nconst initialState =  {\r\n  posts: db.get('posts') || [],\r\n  inputText: '',\r\n};\r\n\r\nconst blogReducer = (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case ADD_POST:\r\n      if(state.inputText) {\r\n        const posts = [\r\n          {\r\n            id: new Date().getTime(),\r\n            text: state.inputText,\r\n            lastModified: new Date().getTime(),\r\n          },\r\n          ...state.posts\r\n        ];\r\n        db.set('posts', posts);\r\n        return {\r\n          ...state,\r\n          inputText: '',\r\n          posts: posts\r\n        }\r\n      }\r\n      return state;\r\n    case CHANGE_NEW_POST_TEXT:\r\n      return {...state, inputText: payload.text};\r\n    case REMOVE_POST:\r\n      const newPosts = state.posts.filter(post => post.id !== payload.id);\r\n      db.set('posts', newPosts);\r\n      return {...state, posts: newPosts};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default blogReducer;\r\n\r\n\r\nexport const addPostCreator = () => ({\r\n  type: ADD_POST,\r\n});\r\n\r\nexport const changeNewPostTextCreator = (text) => ({\r\n  type: CHANGE_NEW_POST_TEXT,\r\n  payload: { text },\r\n});\r\n\r\nexport const removePostCreator = (id) => ({\r\n  type: REMOVE_POST,\r\n  payload: { id },\r\n});\r\n\r\n","import React from 'react';\r\nimport s     from './blog-page.module.scss';\r\n\r\nconst BlogPage = ({\r\n  addPost,\r\n  removePost,\r\n  changePostText,\r\n  posts,\r\n  inputText,\r\n}) => (\r\n  <div className={s.wrap}>\r\n    <div className={s.container}>\r\n      {posts && posts.map((post, index) => (\r\n          <div\r\n            key={index}\r\n            className={s.item}\r\n          >\r\n            <p>{post.text}</p>\r\n            <span\r\n              className={s.remove}\r\n              onClick={e => removePost(post.id)}\r\n            >\r\n              x\r\n            </span>\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n\r\n    <form\r\n      className={s['new-post']}\r\n      onSubmit={e => {\r\n        e.preventDefault();\r\n        addPost();\r\n      }}\r\n    >\r\n      <textarea\r\n        onChange={(e) => changePostText(e.target.value)}\r\n        value={inputText}\r\n      />\r\n      <input type='submit' value='New Post' />\r\n    </form>\r\n  </div>\r\n);\r\n\r\nexport default BlogPage;\r\n","import {\r\n  addPostCreator,\r\n  changeNewPostTextCreator,\r\n  removePostCreator\r\n} from '../reducers/blog';\r\nimport BlogPage from '../components/blog-page/';\r\nimport {connect} from 'react-redux';\r\n\r\nconst mapStateToProps = state => {\r\n  const {blogPage} = state;\r\n  return ({\r\n    posts: blogPage.posts,\r\n    inputText: blogPage.inputText,\r\n  })\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  removePost: postId => dispatch(removePostCreator(postId)),\r\n  addPost: () => dispatch(addPostCreator()),\r\n  changePostText: text => dispatch(changeNewPostTextCreator(text)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogPage);\r\n","import {createActions} from 'redux-actions';\r\n\r\nexport const {\r\n  init,\r\n  loadList,\r\n  requestList,\r\n  successList,\r\n  failureList,\r\n  requestItem,\r\n  successItem,\r\n  failureItem,\r\n  addTask,\r\n  editTaskTitle,\r\n  deleteTask,\r\n  successPatchTask,\r\n  failurePatchTask,\r\n  doneTask,\r\n  unDoneTask,\r\n  changeNewTaskText,\r\n} = createActions({\r\n  INIT: () => ({}),\r\n  LOAD_LIST: () => ({}),\r\n  REQUEST_LIST: () => ({}),\r\n  SUCCESS_LIST: tasks => tasks,\r\n  FAILURE_LIST: error => ({error}),\r\n  REQUEST_ITEM: () => ({}),\r\n  SUCCESS_ITEM: item => ({item}),\r\n  FAILURE_ITEM: error => ({error}),\r\n  ADD_TASK: text => ({text}),\r\n  EDIT_TASK_TITLE: task => task,\r\n  DELETE_TASK: id => ({id}),\r\n  SUCCESS_PATCH_TASK: item => ({ item }),\r\n  FAILURE_PATCH_TASK: error => error,\r\n  DONE_TASK: id => ({id}),\r\n  UN_DONE_TASK: id => ({id}),\r\n  CHANGE_NEW_TASK_TEXT: text => ({text}),\r\n}, { prefix: 'tasks' });\r\n\r\n","import React from 'react';\r\nimport s  from './task-form.module.scss';\r\n\r\nconst TaskForm = ({\r\n  newTaskText,\r\n  addNewTask,\r\n  changeNewTaskText,\r\n}) => (\r\n  <form\r\n    onSubmit={addNewTask}\r\n    className={s.container}>\r\n    <input\r\n      type=\"text\"\r\n      placeholder='Новая запись'\r\n      onChange={changeNewTaskText}\r\n      value={newTaskText}\r\n    />\r\n    <button>ok</button>\r\n  </form>\r\n);\r\n\r\nexport default TaskForm;\r\n","import React, { useState, useEffect } from 'react';\r\nimport s from './task-item.module.scss';\r\n\r\nconst TaskItem = ({\r\n  id,\r\n  checked,\r\n  text,\r\n  editTaskTitle,\r\n  doneTask,\r\n  unDoneTask,\r\n  deleteTask,\r\n}) => {\r\n  const [doEdit, setDoEdit] = useState(false);\r\n  const [title, setTitle] = useState(text);\r\n\r\n  useEffect(() => {\r\n    setTitle(text);\r\n  }, [text]);\r\n\r\n  useEffect(() => {\r\n    console.log('effect')\r\n    window.addEventListener('onKeyDown', e => {\r\n      console.log(e.target)\r\n    });\r\n    return () => {\r\n      console.log('unmount effect')\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={`${s.item} ${checked ? s.done : ''}`}>\r\n      <div className={s.content}>\r\n        <span className={s['input-container']}>\r\n          <input\r\n            name={`task-${id}`}\r\n            type='checkbox'\r\n            onChange={e => checked ? unDoneTask(id) : doneTask(id)}\r\n            checked={checked}\r\n          />\r\n        </span>\r\n        {doEdit\r\n        ? (\r\n          <input\r\n            className={s['title-input']}\r\n            type='text'\r\n            value={title}\r\n            onChange={e => setTitle(e.target.value)}\r\n            autoFocus={true}\r\n            onBlur={e => {\r\n              setDoEdit(false);\r\n              editTaskTitle({\r\n                title: e.target.value,\r\n                id\r\n              });\r\n            }}\r\n          />\r\n          )\r\n        : (\r\n          <span\r\n            className={s.title}\r\n            onDoubleClick={(e) => setDoEdit(true)}\r\n          >\r\n            {title}\r\n          </span>\r\n          )\r\n        }\r\n      </div>\r\n      <div className={s.control}>\r\n        <a\r\n          href={`/remove-task/${id}`}\r\n          onClick={e => {\r\n            e.preventDefault();\r\n            deleteTask(id);\r\n          }}\r\n        >\r\n          x\r\n        </a>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default TaskItem;\r\n","import React from 'react';\r\nimport s from './task-list.module.scss';\r\nimport TaskItem from '../item/task-item';\r\n\r\nconst TaskList = ({\r\n  items,\r\n  editTaskTitle,\r\n  doneTask,\r\n  unDoneTask,\r\n  deleteTask,\r\n}) => {\r\n  return (\r\n    <div className={s.list}>\r\n      {Array.isArray(items) && items.map(({ _id: id, completed, title }, index) => (\r\n        <TaskItem\r\n          key={index}\r\n          id={id}\r\n          checked={completed}\r\n          text={title}\r\n          editTaskTitle={editTaskTitle}\r\n          doneTask={doneTask}\r\n          unDoneTask={unDoneTask}\r\n          deleteTask={deleteTask}\r\n        />\r\n      ))}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default TaskList;\r\n","import React from 'react';\r\nimport s from './folders.module.scss';\r\n\r\nconst Folders = ({\r\n  changeFolder,\r\n  activeFolder,\r\n  folders,\r\n  newFolderText,\r\n  changeNewFolderText,\r\n  addNewFolder,\r\n  deleteFolder,\r\n}) => (\r\n  <div className={s.container}>\r\n    <ul className={s.folders}>\r\n      {folders && folders.map(({ _id, title, editable }, index) => (\r\n        <li\r\n          key={index}\r\n          className={activeFolder._id === _id ? s.active : ''}\r\n        >\r\n          <span\r\n            className={s.title}\r\n            onClick={() => changeFolder(_id)}\r\n          >\r\n            {title}\r\n          </span>\r\n          {editable && (<span\r\n            className={s.action}\r\n            onClick={() => deleteFolder(_id)}\r\n          >\r\n            x\r\n          </span>)}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n\r\n    <form\r\n      onSubmit={e => {\r\n        e.preventDefault();\r\n        addNewFolder();\r\n      }}\r\n      className={s.form}>\r\n      <input\r\n        type=\"text\"\r\n        placeholder='Новая папка'\r\n        value={newFolderText}\r\n        onChange={e => changeNewFolderText(e.target.value)}\r\n        className={s['form-text']}\r\n      />\r\n      <button>ok</button>\r\n    </form>\r\n  </div>\r\n);\r\n\r\nexport default Folders;\r\n","import React from 'react';\r\nimport s from './tasks.module.scss';\r\nimport TaskForm from './form/task-form';\r\nimport TaskList from './list/task-list';\r\nimport Folders from './folders/folders';\r\n\r\nconst TasksPage = ({\r\n  newTaskText,\r\n  items,\r\n  folders,\r\n  activeFolder,\r\n  addNewTask,\r\n  changeNewTaskText,\r\n  editTaskTitle,\r\n  doneTask,\r\n  unDoneTask,\r\n  deleteTask,\r\n  changeFolder,\r\n  newFolderText,\r\n  changeNewFolderText,\r\n  addNewFolder,\r\n  deleteFolder,\r\n}) => {\r\n  return (\r\n    <div className={s.container}>\r\n      <main className={s.content}>\r\n        <TaskForm\r\n          addNewTask={addNewTask}\r\n          changeNewTaskText={changeNewTaskText}\r\n          newTaskText={newTaskText}\r\n        />\r\n        <TaskList\r\n          items={items}\r\n          activeFolder={activeFolder}\r\n          editTaskTitle={editTaskTitle}\r\n          doneTask={doneTask}\r\n          unDoneTask={unDoneTask}\r\n          deleteTask={deleteTask}\r\n        />\r\n      </main>\r\n\r\n      <div className={s.aside}>\r\n        <Folders\r\n          activeFolder={activeFolder}\r\n          folders={folders}\r\n          changeFolder={changeFolder}\r\n          newFolderText={newFolderText}\r\n          changeNewFolderText={changeNewFolderText}\r\n          addNewFolder={addNewFolder}\r\n          deleteFolder={deleteFolder}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default TasksPage;\r\n","import { createSelector } from 'reselect'\r\nimport propOr from 'lodash/fp/propOr';\r\n\r\nconst selectTaskFolders = state => state.taskFolders || {};\r\n\r\nexport const getActiveFolder = createSelector (\r\n  selectTaskFolders,\r\n  propOr({}, 'activeFolder')\r\n);\r\n\r\nexport const getFolders = createSelector (\r\n  [selectTaskFolders],\r\n  propOr([], 'items')\r\n);\r\n\r\nexport const getNewFolderText = createSelector (\r\n  selectTaskFolders,\r\n  propOr ('', 'newFolderText')\r\n);\r\n","import { createSelector } from 'reselect'\r\nimport propOr from 'lodash/fp/propOr';\r\nimport { getActiveFolder } from \"./taskFolders\";\r\n\r\nconst selectTasks = state => state.tasks || {};\r\n\r\nexport const getTasks = createSelector(\r\n  [selectTasks, getActiveFolder],\r\n  ({ items = [] }, activeFolder) => {\r\n    const filter = activeFolder.filter || 'default';\r\n    const filtered = tasksFilters[filter](items, activeFolder);\r\n    return filtered.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\r\n  }\r\n);\r\n\r\nexport const getNewTaskText = createSelector(\r\n  selectTasks,\r\n  propOr('', 'newTaskText')\r\n);\r\n\r\n\r\nconst tasksFilters = {\r\n  default: (items, activeFolder) => items.filter(item => item.folderId === activeFolder._id && !item.deleted),\r\n  showAll: (items) => items.filter(item => !item.deleted),\r\n  showDeleted: (items) => items.filter(item => item.deleted),\r\n};","import {createActions} from 'redux-actions';\r\n\r\nexport const {\r\n  init,\r\n  loadList,\r\n  requestList,\r\n  successList,\r\n  failureList,\r\n  changeFolder,\r\n  changeNewFolderText,\r\n  addFolder,\r\n  requestItem,\r\n  successItem,\r\n  failureItem,\r\n  deleteFolder,\r\n  requestDeleteFolder,\r\n  successDeleteFolder,\r\n  failureDeleteFolder,\r\n} = createActions({\r\n  INIT: () => ({}),\r\n  LOAD_LIST: () => ({}),\r\n  REQUEST_LIST: () => ({}),\r\n  SUCCESS_LIST: items => items,\r\n  FAILURE_LIST: error => ({error}),\r\n  CHANGE_FOLDER: id => ({id}),\r\n  CHANGE_NEW_FOLDER_TEXT: text => ({text}),\r\n  ADD_FOLDER: () => ({}),\r\n  REQUEST_ITEM: () => ({}),\r\n  SUCCESS_ITEM: item => ({item}),\r\n  FAILURE_ITEM: error => ({error}),\r\n  DELETE_FOLDER: id => ({id}),\r\n  REQUEST_DELETE_FOLDER: () => ({}),\r\n  SUCCESS_DELETE_FOLDER: item => ({item}),\r\n  FAILURE_DELETE_FOLDER: error => ({error}),\r\n}, { prefix: 'task-folders' });\r\n\r\n","import {\r\n  addTask,\r\n  deleteTask,\r\n  doneTask,\r\n  unDoneTask,\r\n  changeNewTaskText, editTaskTitle,\r\n} from '../actions/tasks';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport TasksPage from '../components/tasks/';\r\nimport { getNewTaskText, getTasks } from \"../selectors/tasks\";\r\nimport { getActiveFolder, getFolders, getNewFolderText } from \"../selectors/taskFolders\";\r\nimport { addFolder, changeFolder, changeNewFolderText, deleteFolder } from \"../actions/taskFolders\";\r\n\r\nconst mapStateToProps = (store) => ({\r\n  newTaskText: getNewTaskText(store),\r\n  items: getTasks(store),\r\n  activeFolder: getActiveFolder(store),\r\n  folders: getFolders(store),\r\n  newFolderText: getNewFolderText(store),\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\r\n  addNewTask: e => {\r\n    e.preventDefault();\r\n    return addTask();\r\n  },\r\n  changeNewTaskText: e => {\r\n    e.preventDefault();\r\n    return changeNewTaskText(e.target.value);\r\n  },\r\n  editTaskTitle: task => editTaskTitle(task),\r\n  doneTask: id => doneTask(id),\r\n  unDoneTask: id => unDoneTask(id),\r\n  deleteTask: id => deleteTask(id),\r\n\r\n  changeFolder: folderId => changeFolder(folderId),\r\n  changeNewFolderText: text => changeNewFolderText(text),\r\n  addNewFolder: () => addFolder(),\r\n  deleteFolder: id => deleteFolder(id),\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TasksPage);\r\n","import React, { useState } from 'react';\n\nfunction AuthForm ({ onSubmit, error }) {\n  const [login, setLogin] = useState('');\n  const [password, setPassword] = useState('');\n\n  return (\n    <form\n      onSubmit={(e) => {\n        e.preventDefault();\n        onSubmit(login, password)\n      }}\n    >\n      <div className=\"input-container\">\n        <input\n          type=\"text\"\n          name='username'\n          placeholder='username'\n          value={login}\n          onChange={e=>setLogin(e.target.value)}\n        />\n      </div>\n      <div className=\"input-container\">\n        <input\n          type=\"password\"\n          name='password'\n          placeholder='password'\n          value={password}\n          onChange={e=>setPassword(e.target.value)}\n        />\n      </div>\n      {error && (\n        <div className=\"form-error\">{error}</div>\n      )}\n      <div className=\"input-container\"><input type=\"submit\"/></div>\n    </form>\n  );\n}\n\nexport default AuthForm;\n","import React, { useState } from 'react';\n\nfunction RegForm ({ onSubmit, error }) {\n  const [login, setLogin] = useState('');\n  const [password, setPassword] = useState('');\n  const [password2, setPassword2] = useState('');\n\n  return (\n    <form\n      onSubmit={(e) => {\n        e.preventDefault();\n        onSubmit(login, password, password2);\n      }}\n    >\n      <div className=\"input-container\">\n        <input\n          type=\"text\"\n          name='username'\n          placeholder='username'\n          value={login}\n          onChange={e=>setLogin(e.target.value)}\n        />\n      </div>\n      <div className=\"input-container\">\n        <input\n          type=\"password\"\n          name='password'\n          placeholder='password'\n          value={password}\n          onChange={e=>setPassword(e.target.value)}\n        />\n      </div>\n      <div className=\"input-container\">\n        <input\n          type=\"password\"\n          name='password2'\n          placeholder='repeat password'\n          value={password2}\n          onChange={e=>setPassword2(e.target.value)}\n        />\n      </div>\n      {error && (\n        <div className=\"form-error\">{error}</div>\n      )}\n      <div className=\"input-container\"><input type=\"submit\"/></div>\n    </form>\n  );\n}\n\nexport default RegForm;\n","import React from 'react';\nimport './app.scss';\nimport Header from './header/header';\nimport Footer from './footer/footer';\nimport UserPage from './user-page/user-page';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Blog from '../connectors/blog';\nimport Tasks from '../connectors/tasks';\nimport AuthForm from \"./auth-form/auth-form\";\nimport RegForm from \"./reg-form/reg-form\";\n\nfunction App ({\n  isAuth,\n  onSubmitAuthForm,\n  logout,\n  authError,\n  isConnected,\n  onSubmitRegForm,\n  regError,\n}) {\n  return (\n    <BrowserRouter>\n      <div className='wrapper'>\n        <Header\n          isAuth={isAuth}\n          logout={logout}\n          isConnected={isConnected}\n        />\n        <div className='middle'>\n          {isAuth\n            ? (\n              <Switch>\n                <Route path='/settings'>\n                  <h1>Настройки</h1>\n                </Route>\n                <Route path='/profile'>\n                  <UserPage/>\n                </Route>\n                <Route path='/blog'>\n                  <Blog/>\n                </Route>\n                <Route path='/'>\n                  <Tasks/>\n                </Route>\n              </Switch>\n            )\n            : (\n              <Switch>\n                <Route path='/'>\n                  <h2>Вход</h2>\n                  <AuthForm onSubmit={onSubmitAuthForm} error={authError} />\n                  <br />\n                  <br />\n                  <h2>Регистрация</h2>\n                  <RegForm onSubmit={onSubmitRegForm} error={regError} />\n                </Route>\n              </Switch>\n            )\n          }\n        </div>\n        <Footer/>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { createSelector } from 'reselect'\r\nimport propOr from 'lodash/fp/propOr';\r\nimport prop from 'lodash/fp/prop';\r\n\r\nconst selectUser = state => state.user || {};\r\n\r\nexport const getUser = createSelector(\r\n  selectUser,\r\n  user => user || {},\r\n);\r\n\r\nexport const getToken = createSelector(\r\n  selectUser,\r\n  propOr('', 'token')\r\n);\r\n\r\nexport const getIsAuth = createSelector(\r\n  selectUser,\r\n  user => user.token && user._id\r\n);\r\n\r\nexport const getAuthError = createSelector(\r\n  selectUser,\r\n  prop('authError')\r\n);\r\nexport const getRegError = createSelector(\r\n  selectUser,\r\n  prop('regError')\r\n);","import {createActions} from 'redux-actions';\r\n\r\nexport const {\r\n  auth,\r\n  requestAuth,\r\n  successAuth,\r\n  failureAuth,\r\n  reg,\r\n  requestReg,\r\n  successReg,\r\n  failureReg,\r\n  logout,\r\n} = createActions({\r\n  AUTH: settings => settings,\r\n  REQUEST_AUTH: () => ({}),\r\n  SUCCESS_AUTH: user => user,\r\n  FAILURE_AUTH: error => error,\r\n  REG: settings => settings,\r\n  REQUEST_REG: () => ({}),\r\n  SUCCESS_REG: user => user,\r\n  FAILURE_REG: error => error,\r\n  LOGOUT: () => ({}),\r\n}, { prefix: 'user' });\r\n\r\n","import { createSelector } from 'reselect'\r\n\r\nconst selectApp = state => state.app || {};\r\n\r\nexport const getIsConnected = createSelector(\r\n  selectApp,\r\n  ({ socketStatus }) => socketStatus === 'connected',\r\n);","import { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport App from \"../components/app\";\r\nimport { getAuthError, getIsAuth, getRegError } from \"../selectors/user\";\r\nimport { auth, logout, reg } from \"../actions/user\";\r\nimport { getIsConnected } from \"../selectors/app\";\r\n\r\nconst mapStateToProps = (store) => ({\r\n  isAuth: getIsAuth(store),\r\n  authError: getAuthError(store),\r\n  regError: getRegError(store),\r\n  isConnected: getIsConnected(store),\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\r\n  onSubmitAuthForm: (username, password) => auth({ username, password }),\r\n  onSubmitRegForm: (username, password, password2) => reg({ username, password, password2 }),\r\n  logout: e => {\r\n    e.preventDefault();\r\n    return logout();\r\n  },\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {createActions} from 'redux-actions';\r\n\r\nexport const {\r\n  init,\r\n  setSocketStatus,\r\n} = createActions({\r\n  INIT: settings => settings,\r\n  SET_SOCKET_STATUS: status => status,\r\n}, { prefix: 'app' });\r\n\r\n","import {handleActions} from 'redux-actions';\r\n\r\nimport {\r\n  init,\r\n  setSocketStatus,\r\n} from '../actions/app';\r\n\r\n\r\nconst initialState = {\r\n  socketStatus: 'disconnected',\r\n};\r\n\r\nexport default handleActions({\r\n  [init]: (store, action) => {\r\n    return {\r\n      ...store,\r\n    }\r\n  },\r\n  [setSocketStatus]: (store, { payload }) => {\r\n    return {\r\n      ...store,\r\n      socketStatus: payload,\r\n    }\r\n  },\r\n}, initialState);\r\n","import {handleActions} from 'redux-actions';\r\nimport {\r\n  init,\r\n  requestList,\r\n  successList,\r\n  failureList,\r\n  requestItem,\r\n  successItem,\r\n  failureItem,\r\n  successPatchTask,\r\n  failurePatchTask,\r\n  changeNewTaskText,\r\n} from '../actions/tasks';\r\n\r\nconst initialState = {\r\n  items: [],\r\n  newTaskText: '',\r\n};\r\n\r\nexport default handleActions({\r\n  [init]: (store, action) => {\r\n    return {\r\n      ...store,\r\n      listStatus: 'initial',\r\n    }\r\n  },\r\n  [requestList]: (store, action) => {\r\n    return {\r\n      ...store,\r\n      listStatus: 'request',\r\n    };\r\n  },\r\n  [failureList]: (store, action) => {\r\n    return {\r\n      ...store,\r\n      listStatus: 'failure',\r\n      error: action.payload,\r\n    };\r\n  },\r\n  [successList]: (store, action) => {\r\n    return {\r\n      ...store,\r\n      items: [...initialState.items, ...action.payload],\r\n      listStatus: 'success',\r\n    }\r\n  },\r\n  [requestItem]: (store, action) => {\r\n    return {\r\n      ...store,\r\n      itemStatus: 'request',\r\n    };\r\n  },\r\n  [failureItem]: (store, action) => {\r\n    return {\r\n      ...store,\r\n      itemStatus: 'failure',\r\n      error: action.payload,\r\n    };\r\n  },\r\n  [successItem]: (store, action) => {\r\n    return {\r\n      ...store,\r\n      items: [...store.items, action.payload],\r\n      itemStatus: 'success',\r\n    }\r\n  },\r\n  [successPatchTask]: (store, { payload }) => {\r\n    return {\r\n      ...store,\r\n      items: store.items.map(item => item._id === payload._id ? payload : item)\r\n    }\r\n  },\r\n  [failurePatchTask]: (store, { payload }) => {\r\n    return {\r\n      ...store,\r\n      error: payload,\r\n    }\r\n  },\r\n  [changeNewTaskText]: (store, { payload }) => ({\r\n    ...store,\r\n    newTaskText: payload.text,\r\n  }),\r\n}, initialState);\r\n","import {handleActions} from 'redux-actions';\r\n\r\nimport {\r\n  failureAuth,\r\n  requestAuth,\r\n  successAuth,\r\n  failureReg,\r\n  requestReg,\r\n  successReg,\r\n  logout,\r\n} from '../actions/user';\r\n\r\n\r\nconst initialState = {\r\n  token: '',\r\n};\r\n\r\nexport default handleActions({\r\n  [requestAuth]: (store, action) => {\r\n    return {\r\n      ...store,\r\n    }\r\n  },\r\n  [successAuth]: (store, { payload: user }) => {\r\n    return {\r\n      ...store,\r\n      ...user,\r\n    }\r\n  },\r\n  [failureAuth]: (store, { payload }) => {\r\n    return {\r\n      ...store,\r\n      authError: payload,\r\n    }\r\n  },\r\n  [requestReg]: (store, action) => {\r\n    return {\r\n      ...store,\r\n    }\r\n  },\r\n  [successReg]: (store, { payload: user }) => {\r\n    return {\r\n      ...store,\r\n      ...user,\r\n    }\r\n  },\r\n  [failureReg]: (store, { payload }) => {\r\n    return {\r\n      ...store,\r\n      regError: payload,\r\n    }\r\n  },\r\n  [logout]: (store, action) => {\r\n    return {}\r\n  },\r\n}, initialState);\r\n","export const DEFAULT_FOLDERS = [\r\n  {_id: '1', title: 'Все', editable: false, filter: 'showAll'},\r\n  {_id: '2', title: 'Корзина', editable: false,  filter: 'showDeleted'}\r\n];\r\n\r\nexport const API_URL = 'http://192.168.1.2:5000/';","import {handleActions} from 'redux-actions';\r\nimport {\r\n  addFolder,\r\n  changeFolder,\r\n  changeNewFolderText,\r\n  failureDeleteFolder,\r\n  failureItem,\r\n  failureList,\r\n  init,\r\n  requestDeleteFolder,\r\n  requestItem,\r\n  requestList,\r\n  successDeleteFolder,\r\n  successItem,\r\n  successList\r\n} from \"../actions/taskFolders\";\r\nimport { DEFAULT_FOLDERS } from \"../constants\";\r\n\r\n\r\nconst initialState = {\r\n  items: DEFAULT_FOLDERS,\r\n  newFolderText: '',\r\n  activeFolder: DEFAULT_FOLDERS[0],\r\n};\r\n\r\nexport default handleActions({\r\n  [init]: (store, action) => {\r\n    return {\r\n      ...store,\r\n    }\r\n  },\r\n  [requestList]: (store, action) => {\r\n    return {\r\n      ...store,\r\n      statusList: 'request',\r\n    };\r\n  },\r\n  [failureList]: (store, action) => {\r\n    return {\r\n      ...store,\r\n      statusList: 'failure',\r\n      error: action.payload,\r\n    };\r\n  },\r\n  [successList]: (store, action) => {\r\n    return {\r\n      ...store,\r\n      items: [...DEFAULT_FOLDERS, ...action.payload],\r\n      statusList: 'success',\r\n    }\r\n  },\r\n  [changeFolder]:  (store, { payload }) => {\r\n    return ({\r\n      ...store,\r\n      activeFolder: store.items.find(folder => folder._id === payload.id),\r\n    })\r\n  },\r\n  [changeNewFolderText]:  (store, { payload }) => ({\r\n    ...store,\r\n    newFolderText: payload.text,\r\n  }),\r\n  [addFolder]: (store, { payload }) => {\r\n    return {\r\n      ...store,\r\n    }\r\n  },\r\n  [requestItem]: (store, action) => {\r\n    return {\r\n      ...store,\r\n      statusItem: 'request',\r\n    };\r\n  },\r\n  [failureItem]: (store, action) => {\r\n    return {\r\n      ...store,\r\n      statusItem: 'failure',\r\n      error: action.payload,\r\n    };\r\n  },\r\n  [successItem]: (store, action) => {\r\n    return {\r\n      ...store,\r\n      items: [...store.items, action.payload],\r\n      statusItem: 'success',\r\n    }\r\n  },\r\n  [requestDeleteFolder]: (store, action) => {\r\n    return {\r\n      ...store,\r\n      statusDeleting: 'request',\r\n    };\r\n  },\r\n  [failureDeleteFolder]: (store, action) => {\r\n    return {\r\n      ...store,\r\n      statusDeleting: 'failure',\r\n      error: action.payload,\r\n    };\r\n  },\r\n  [successDeleteFolder]: (store, { payload }) => {\r\n    return {\r\n      ...store,\r\n      items: store.items.filter(item => item._id !== payload),\r\n      statusDeleting: 'success',\r\n    }\r\n  },\r\n}, initialState);\r\n","import appReducer from './app';\r\nimport blogReducer from './blog';\r\nimport tasksReducer from './tasks';\r\nimport userReducer from './user';\r\nimport taskFoldersReducer from './taskFolders';\r\nimport { combineReducers } from 'redux';\r\n\r\nconst reducer = combineReducers({\r\n  app: appReducer,\r\n  blogPage: blogReducer,\r\n  tasks: tasksReducer,\r\n  user: userReducer,\r\n  taskFolders: taskFoldersReducer,\r\n});\r\n\r\nexport default reducer;\r\n","import axios from 'axios';\r\nimport {\r\n  requestList,\r\n  successList,\r\n  failureList,\r\n  requestItem,\r\n  successItem,\r\n  failureItem,\r\n  addTask,\r\n  changeNewTaskText,\r\n  doneTask,\r\n  unDoneTask,\r\n  deleteTask,\r\n  successPatchTask, failurePatchTask, loadList, editTaskTitle,\r\n} from '../actions/tasks';\r\nimport { getNewTaskText } from \"../selectors/tasks\";\r\nimport { getToken } from \"../selectors/user\";\r\nimport { getActiveFolder } from \"../selectors/taskFolders\";\r\nimport { API_URL } from \"../constants\";\r\n\r\nexport default store => next => async action => {\r\n  next(action);\r\n  const state = store.getState();\r\n  const token = getToken(state);\r\n\r\n  const instance = axios.create({\r\n    baseURL: API_URL,\r\n    timeout: 1000,\r\n    headers: {\r\n      'Authorization': `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    }\r\n  });\r\n\r\n  switch (action.type) {\r\n    case loadList.toString():\r\n      store.dispatch(requestList());\r\n      store.dispatch(await getTasks(state, action, instance));\r\n      break;\r\n    case addTask.toString():\r\n      store.dispatch(requestItem());\r\n      store.dispatch(await createTask(state, action, instance));\r\n      store.dispatch(changeNewTaskText(''));\r\n      break;\r\n    case doneTask.toString():\r\n      store.dispatch(await patchTask({ completed: true }, state, action, instance));\r\n      break;\r\n    case editTaskTitle.toString():\r\n      const { title } = action.payload;\r\n      store.dispatch(await patchTask({ title }, state, action, instance));\r\n      break;\r\n    case unDoneTask.toString():\r\n      store.dispatch(await patchTask({ completed: false }, state, action, instance));\r\n      break;\r\n    case deleteTask.toString():\r\n      store.dispatch(await patchTask({ deleted: true }, state, action, instance));\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nexport const getTasks = async (store, action, axios) => {\r\n  try {\r\n    const response = await axios.get('/tasks');\r\n    return {\r\n      type: successList.toString(),\r\n      payload: response.data\r\n    };\r\n  } catch (e) {\r\n    return failureList();\r\n  }\r\n};\r\n\r\nexport const createTask = async (state, action, axios) => {\r\n  const title = getNewTaskText(state);\r\n  const { _id: folderId } = getActiveFolder(state);\r\n  try {\r\n    const response = await axios.post('/tasks', {\r\n      title,\r\n      folderId,\r\n    });\r\n    return {\r\n      type: successItem.toString(),\r\n      payload: response.data\r\n    };\r\n  } catch (e) {\r\n    return failureItem();\r\n  }\r\n};\r\n\r\nexport const patchTask = async (data, state, action, axios) => {\r\n  const { id } = action.payload;\r\n  const activeFolder = getActiveFolder(state);\r\n  console.log(activeFolder);\r\n  try {\r\n    const { data: response } = await axios.patch(`/tasks/${id}`, data);\r\n    if (response.error) {\r\n      throw new Error(response.error);\r\n    }\r\n    return {\r\n      type: successPatchTask.toString(),\r\n      payload: response,\r\n    };\r\n  } catch (error) {\r\n    console.error(error);\r\n    return failurePatchTask(error.message);\r\n  }\r\n};\r\n","import axios from 'axios';\r\nimport {\r\n  requestList,\r\n  successList,\r\n  failureList,\r\n  requestItem,\r\n  successItem,\r\n  failureItem,\r\n  addFolder,\r\n  changeNewFolderText,\r\n  deleteFolder,\r\n  successDeleteFolder,\r\n  failureDeleteFolder,\r\n  requestDeleteFolder,\r\n  changeFolder,\r\n  loadList,\r\n} from '../actions/taskFolders';\r\nimport { getToken } from \"../selectors/user\";\r\nimport { getActiveFolder, getNewFolderText } from \"../selectors/taskFolders\";\r\nimport { API_URL } from \"../constants\";\r\n\r\nexport default store => next => async action => {\r\n  next(action);\r\n  const state = store.getState();\r\n  const token = getToken(state);\r\n\r\n  const instance = axios.create({\r\n    baseURL: API_URL,\r\n    timeout: 1000,\r\n    headers: {\r\n      'Authorization': `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    }\r\n  });\r\n\r\n  switch (action.type) {\r\n    case loadList.toString():\r\n      store.dispatch(requestList());\r\n      store.dispatch(await getFolders(state, action, instance));\r\n      break;\r\n    case addFolder.toString():\r\n      store.dispatch(requestItem());\r\n      store.dispatch(await createFolder(state, action, instance));\r\n      store.dispatch(changeNewFolderText(''));\r\n      break;\r\n    case deleteFolder.toString():\r\n      const activeFolder = getActiveFolder(state);\r\n      store.dispatch(requestDeleteFolder());\r\n      store.dispatch(await removeFolder(state, action, instance));\r\n      if(action.payload.id === activeFolder._id) {\r\n        store.dispatch(changeFolder('1'));\r\n      }\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nexport const getFolders = async (store, action, axios) => {\r\n  try {\r\n    const response = await axios.get('/taskFolders');\r\n    return {\r\n      type: successList.toString(),\r\n      payload: response.data\r\n    };\r\n  } catch (e) {\r\n    return failureList();\r\n  }\r\n};\r\n\r\nexport const createFolder = async (state, action, axios) => {\r\n  const title = getNewFolderText(state);\r\n  try {\r\n    const response = await axios.post('/taskFolders', {\r\n      title,\r\n    });\r\n    return {\r\n      type: successItem.toString(),\r\n      payload: response.data\r\n    };\r\n  } catch (e) {\r\n    return failureItem();\r\n  }\r\n};\r\n\r\nexport const removeFolder = async (state, action, axios) => {\r\n  const { id } = action.payload;\r\n  try {\r\n    const { data: response } = await axios.delete(`/taskFolders/${id}`);\r\n    if (response.error) {\r\n      throw new Error(response.error);\r\n    }\r\n    return {\r\n      type: successDeleteFolder.toString(),\r\n      payload: id,\r\n    };\r\n  } catch (error) {\r\n    console.error(error);\r\n    return failureDeleteFolder(error.message);\r\n  }\r\n};\r\n","import axios from 'axios';\r\nimport {\r\n  auth,\r\n  requestAuth,\r\n  successAuth,\r\n  failureAuth, successReg, failureReg, reg, requestReg,\r\n} from '../actions/user';\r\nimport localDB from \"../localDB\";\r\nimport { API_URL } from \"../constants\";\r\n\r\nexport default store => next => async action => {\r\n  next(action);\r\n  const state = store.getState();\r\n\r\n  const instance = axios.create({\r\n    baseURL: API_URL,\r\n    timeout: 1000,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    }\r\n  });\r\n\r\n  switch(action.type) {\r\n    case auth.toString():\r\n      store.dispatch(requestAuth());\r\n      store.dispatch(await authorization(state, action, instance));\r\n      break;\r\n    case reg.toString():\r\n      store.dispatch(requestReg());\r\n      store.dispatch(await registration(state, action, instance));\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nexport const authorization = async (state, action, axios) => {\r\n  const { username, password } = action.payload;\r\n  try {\r\n    const response = await axios.post('/auth', {\r\n      username,\r\n      password,\r\n    });\r\n    const user = response.data;\r\n    localDB.set('user', user);\r\n    return {\r\n      type: successAuth.toString(),\r\n      payload: user\r\n    };\r\n  } catch (error) {\r\n    const { data } = error.response || {};\r\n    return failureAuth((data && data.message) || 'Connect error. Try later');\r\n  }\r\n};\r\n\r\nexport const registration = async (state, action, axios) => {\r\n  const { username, password, password2 } = action.payload;\r\n  try {\r\n    const response = await axios.post('/reg', {\r\n      username,\r\n      password,\r\n      password2,\r\n    });\r\n    const user = response.data;\r\n    localDB.set('user', user);\r\n    return {\r\n      type: successReg.toString(),\r\n      payload: user\r\n    };\r\n  } catch (error) {\r\n    const { data } = error.response || {};\r\n    return failureReg((data && data.message) || 'Connect error. Try later');\r\n  }\r\n};\r\n","import io from 'socket.io-client';\r\nimport { API_URL } from \"./constants\";\r\n\r\nexport const getSocket = userId => Socket(userId);\r\nexport const removeSocket = () => {\r\n  Socket.instance = null;\r\n};\r\n\r\nfunction Socket (userId) {\r\n  if (!Socket.instance) {\r\n    Socket.instance = io(API_URL, {\r\n      query: {\r\n        userId\r\n      }\r\n    });\r\n  }\r\n  return Socket.instance;\r\n}","import {\r\n  init, setSocketStatus,\r\n} from '../actions/app';\r\nimport { logout, successAuth } from '../actions/user';\r\nimport localDB from \"../localDB\";\r\nimport {\r\n  changeFolder,\r\n  loadList as loadFolders,\r\n  successDeleteFolder,\r\n  successItem as successCreateFolder,\r\n  successList as setFolders\r\n} from \"../actions/taskFolders\";\r\nimport {\r\n  loadList as loadTasks,\r\n  successList as setTasks,\r\n  successItem as successCreateItem,\r\n  successPatchTask,\r\n} from \"../actions/tasks\";\r\nimport { getSocket, removeSocket } from \"../socket\";\r\n\r\nexport default store => next => async action => {\r\n  next(action);\r\n\r\n  switch(action.type) {\r\n    case init.toString():\r\n      const user = localDB.get('user') || {};\r\n      if (user._id) {\r\n        await store.dispatch(successAuth(user));\r\n      }\r\n      break;\r\n    case successAuth.toString():\r\n      store.dispatch(loadTasks());\r\n      store.dispatch(loadFolders());\r\n\r\n      const socket = getSocket(action.payload._id);\r\n      socket.on('connect', (message) => {\r\n        store.dispatch(setSocketStatus('connected'));\r\n      });\r\n      socket.on('disconnect', () => {\r\n        store.dispatch(setSocketStatus('disconnected'));\r\n      });\r\n      socket.on('message', (message) => {\r\n        console.log('message: ', message);\r\n      });\r\n      socket.on('syncFolders', () => {\r\n        console.log('syncFolders');\r\n        store.dispatch(loadFolders());\r\n      });\r\n      socket.on('syncTasks', () => {\r\n        console.log('syncTasks');\r\n        store.dispatch(loadTasks());\r\n      });\r\n      break;\r\n    case logout.toString():\r\n      localDB.set('user', {});\r\n      store.dispatch(setFolders([]));\r\n      store.dispatch(changeFolder('1'));\r\n      store.dispatch(setTasks([]));\r\n      {\r\n        const socket = getSocket();\r\n        socket.disconnect();\r\n        removeSocket();\r\n      }\r\n      break;\r\n    case successCreateFolder.toString():\r\n    case successDeleteFolder.toString():\r\n      {\r\n        const socket = getSocket();\r\n        socket.emit('syncFolders');\r\n      }\r\n      break;\r\n    case successCreateItem.toString():\r\n    case successPatchTask.toString():\r\n      {\r\n        const socket = getSocket();\r\n        socket.emit('syncTasks');\r\n      }\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport reducer from '../reducers';\r\n// import ReduxThunk from \"redux-thunk\";\r\nimport tasksMiddleware from \"./tasksMiddleware\";\r\nimport taskFoldersMiddleware from \"./taskFoldersMiddleware\";\r\nimport userMiddleware from \"./userMiddleware\";\r\nimport appMiddleware from \"./appMiddleware\";\r\n\r\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n\r\nexport const initStore = (preloadedState = undefined) => {\r\n  return createStore(\r\n    reducer,\r\n    preloadedState,\r\n    composeEnhancers(applyMiddleware(\r\n      // ReduxThunk,\r\n      appMiddleware,\r\n      userMiddleware,\r\n      tasksMiddleware,\r\n      taskFoldersMiddleware,\r\n      // blogsMiddleware\r\n    ))\r\n  )\r\n};\r\n\r\nexport default initStore;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './connectors/app';\nimport * as serviceWorker from './serviceWorker';\nimport { initStore } from './redux/store';\nimport { Provider } from 'react-redux';\nimport { init as initApp } from './actions/app';\n\nconst store = initStore();\nstore.dispatch(initApp());\n\nReactDOM.render(\n  <Provider store={store}>\n    <App/>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"blog-page_wrap__2Nofb\",\"item\":\"blog-page_item__R0SMp\",\"remove\":\"blog-page_remove__2KlUR\",\"new-post\":\"blog-page_new-post__RKgFV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"header_container__v0Obr\",\"logo\":\"header_logo__1D7nN\",\"connected\":\"header_connected__1Hc7S\",\"logo-title\":\"header_logo-title__3mYEI\",\"logo-img\":\"header_logo-img__A_fEH\",\"top-nav\":\"header_top-nav__Sy2Ba\",\"link\":\"header_link__1hIMI\",\"active\":\"header_active__3MISQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"tasks_container__2DNOh\",\"content\":\"tasks_content__12alN\",\"aside\":\"tasks_aside__3yqIx\"};"],"sourceRoot":""}